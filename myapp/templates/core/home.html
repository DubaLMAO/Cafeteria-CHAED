{% extends "layouts/base.html" %}

{% block title %}Inicio - Caf√© CHAED{% endblock %}

{% block content %} {#Se despliega el contenido del home#}

<!--Hero Section -->
<section id="home" class="hero">
    <div class="container h-100 d-flex align-items-center justify-content-center text-center">
        <div class="row">
            <div class="col-lg-10">
                <h1>Caf√©. Simple. Perfecto.</h1>
                <p>Descubre la esencia pura del caf√© en un ambiente minimalista dise√±ado para tu tranquilidad.</p>
                <a href="#menu" class="btn btn-primary">Ver Men√∫</a>
            </div>
        </div>
    </div>
</section>


<!--Secci√≥n del Men√∫ de la cafeter√≠a -->
<section id="menu" class="py-5">
    <div class="container">
        <h2 class="section-title">Nuestro Men√∫</h2>
        <div class="row">

            <!-- Cafes-->
            <div class="col-lg-6">
                <div class="card h-100">
                    <div class="card-body">
                        <h3 class="card-title">Caf√©s Especiales</h3>
                        {% for cafe in cafes %}
                        <div class="menu-item d-flex justify-content-between">
                            <div>
                                <h5>{{ cafe.nombre }}</h5>
                                <p class="text-muted small">{{ cafe.descripcion }}</p>
                            </div>
                            <span class="price">${{ cafe.precio }}</span>
                        </div>
                        {% empty %}
                        <p>No hay caf√©s registrados a√∫n.</p>
                        {% endfor %}
                    </div>
                </div>
            </div>

            <!-- Snacks-->
            <div class="col-lg-6">
                <div class="card h-100">
                    <div class="card-body">
                        <h3 class="card-title">Pasteles & Snacks</h3>
                        {% for snack in snacks %}
                        <div class="menu-item d-flex justify-content-between">
                            <div>
                                <h5>{{ snack.nombre }}</h5>
                                <p class="text-muted small">{{ snack.descripcion }}</p>
                            </div>
                            <span class="price">${{ snack.precio }}</span>
                        </div>
                        {% empty %}
                        <p>No hay snacks registrados a√∫n.</p>
                        {% endfor %}
                    </div>
                </div>
            </div>

        </div>
    </div>
</section>

<!--Secci√≥n de Acerca de -->
<section id="about" class="py-5 about-section">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6">
                <h2 class="section-title text-start">Nuestra Historia</h2>
                <p class="lead">En Caf√© CHAED creemos que la simplicidad es la m√°xima sofisticaci√≥n.</p>
                <p>Fundado en 2025 con la visi√≥n de crear un espacio donde el caf√© de calidad se encuentra con el
                    dise√±o minimalista. Cada taza es preparada con precisi√≥n, cada detalle pensado para tu
                    comodidad.</p>
                <p>Utilizamos granos seleccionados de productores locales, tostados artesanalmente para resaltar los
                    sabores √∫nicos de cada origen.</p>
            </div>
            <div class="col-lg-6">
                <div class="text-center">
                    <i class="fas fa-coffee" style="font-size: 10rem; color: var(--accent-color);"></i>
                </div>
            </div>
        </div>
    </div>
</section>

<!--Secci√≥n de contacto -->
<section id="contact" class="py-5">
    <div class="container">
        <div class="row">
            <div class="col-lg-8">
                <h2 class="section-title text-start">Vis√≠tanos</h2>
                <div class="row">
                    <div class="col-md-6 mb-4">
                        <h4><i class="fas fa-map-marker-alt me-2"></i>Ubicaci√≥n</h4>
                        <p>Av. Madero Norte #4<br>Huetamo Centro<br>Huetamo De Nu√±ez, Michoac√°n</p>
                    </div>
                    <div class="col-md-6 mb-4">
                        <h4><i class="fas fa-clock me-2"></i>Horarios</h4>
                        <p>Lunes - Viernes: 7:00 - 20:00<br>
                            S√°bado - Domingo: 8:00 - 21:00</p>
                    </div>
                    <div class="col-md-6 mb-4">
                        <h4><i class="fas fa-phone me-2"></i>Tel√©fono</h4>
                        <p>+52 733 123 4567</p>
                    </div>
                    <div class="col-md-6 mb-4">
                        <h4><i class="fas fa-envelope me-2"></i>Email</h4>
                        <p>chaed@gmail.com</p>
                    </div>
                </div>
            </div>

            <!-- Newsletter -->
            <div class="col-lg-4">
                <div class="contact-info p-4">
                    <h3>S√≠guenos</h3>
                    <div class="social-icons">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                    </div>

                    <hr style="border-color: rgba(255,255,255,0.2);">

                    <h4>Newsletter</h4>
                    <p>Recibe nuestras ofertas especiales</p>

                    <!-- FORMULARIO FUNCIONAL -->
                    <form id="newsletter-form" method="POST" novalidate>
                        {% csrf_token %}
                        <div class="input-group has-validation">
                            <input type="email" class="form-control" placeholder="Tu email" name="correo"
                                id="newsletter-email" autocomplete="email" required>
                            <button class="btn btn-primary" type="submit">
                                Suscribir
                            </button>
                            <div class="invalid-feedback">
                                Ingresa un correo v√°lido.
                            </div>
                        </div>
                    </form>

                    <!-- MENSAJE DE √âXITO -->
                    <p id="success-message" class="text-success mt-2" style="display:none;">
                        ¬°Gracias por suscribirte! üéâ
                    </p>

                </div>
            </div>
        </div>
    </div>
</section>



<!--Footer -->
<footer>
    <div class="container">
        <p> &copy; 2025 Caf√© CHAED.</p>
        <p> &copy; Todos los derechos reservados.</p>
        <a style="color: white;" href="{% url 'privacy_policy' %}">Pol√≠tica de Privacidad</a>
        <a style="color: white;" href="{% url 'terms_conditions' %}">T√©rminos y Condiciones</a>
    </div>
</footer>


<div id="cookie-banner" class="cookie-banner">
    <div class="cookie-content">
        <p>
            Utilizamos cookies para mejorar tu experiencia en Caf√© CHAED.
            Al continuar navegando, aceptas nuestro uso de cookies.
        </p>
        <button id="accept-cookies" class="btn btn-primary btn-sm">Aceptar</button>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
    crossorigin="anonymous"></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const form = document.getElementById("newsletter-form")
        const emailInput = document.getElementById("newsletter-email");
        const successMsg = document.getElementById("success-message");

        // Expresi√≥n regular simple y fiable para emails
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

        form.addEventListener("submit", function (e) {
            e.preventDefault(); // siempre prevenimos el env√≠o real para controlar la UI

            // Limpiar espacios en blanco al inicio/final
            const email = emailInput.value.trim();
            emailInput.value = email;

            // Validar con regex
            const isValid = emailRegex.test(email);

            // Limpiar estados previos
            emailInput.classList.remove("is-valid", "is-invalid");
            successMsg.style.display = "none";

            if (!isValid) {
                // Mostrar error
                emailInput.classList.add("is-invalid");
                // Aseguramos que el feedback de bootstrap se muestre
                form.classList.add("was-validated");
            } else {
                // Mostrar √©xito
                emailInput.classList.add("is-valid");
                successMsg.style.display = "block";

                // Opcional: limpiar formulario y clases de validaci√≥n
                form.reset();
                // Si quieres que desaparezca la marca de validaci√≥n tras el reset:
                form.classList.remove("was-validated");
            }
        });
    });

    document.addEventListener("DOMContentLoaded", function () {
        const banner = document.getElementById("cookie-banner");
        const acceptBtn = document.getElementById("accept-cookies");

        // Si NO existe el consentimiento en localStorage ‚Üí Mostrar banner
        if (!localStorage.getItem("cookiesAccepted")) {
            banner.style.display = "block";
        }

        // Aceptar cookies
        acceptBtn.addEventListener("click", function () {
            localStorage.setItem("cookiesAccepted", "true");
            banner.style.display = "none";
        });
    });
</script>




{% endblock %}